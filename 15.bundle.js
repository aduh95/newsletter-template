(window.webpackJsonp=window.webpackJsonp||[]).push([[15,22,24,27],{15:function(e,t,n){"use strict";n.r(t);var r,o,s=n(6);function a(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var i=0;t.default=new(r=class extends s.a{constructor(...e){super(...e),Object.defineProperty(this,o,{writable:!0,value:void 0})}set(e){if(e!==a(this,o)[o]){try{a(this,o)[o]=new URL(e||"about:blank").hostname}catch(e){console.warn(e),a(this,o)[o]=""}this.notify(a(this,o)[o])}}get(){return a(this,o)[o]}getAsURL(){return a(this,o)[o]?new URL(`${location.protocol}//${a(this,o)[o]}`):null}getHostNameRegExp(e){return new RegExp(`(https?:)?//${a(this,o)[o]}/?`,e)}},o="__private_"+i+++"_"+"currentName",r)},19:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(15);const o=/\/search#documentUUID\/([a-f0-9\-]+)\/(.+)$/;function s(e){if(o.test(e)&&r.default.getHostNameRegExp().test(e)){const[t,n,s]=o.exec(e),a=new URL("/search",r.default.getAsURL());return a.searchParams.set("documentUUID",n),a.searchParams.set("title",s),a.toString()}try{e=new URL(e).toString()}catch{}return e}},20:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(0),o=n(25);class s extends r.a{handleDrag({currentTarget:e},t){const n=Array.from(e.parentNode.children),r=n.indexOf(e),o=n.indexOf(t);this.props.handleReOrder(r,o)}render(){const e=this.props.content||[];return Object(r.h)("ol",{className:"ordered-list"},e.concat([{}]).map(({label:t,href:n},s)=>Object(r.h)("li",{draggable:s<e.length,onDragStart:Object(o.a)(this.handleDrag.bind(this)),key:s},Object(r.h)("input",{name:"label",value:t||"",placeholder:"Link label",onChange:e=>this.props.handleChange(e,s)}),Object(r.h)("input",{name:"href",value:n||"",placeholder:"Link URL",onChange:e=>this.props.handleChange(e,s),type:"url"}))))}}},25:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a}));const r="drop-candidate-for-reordering",o=new Set,s=e=>{document.body.addEventListener("dragover",e),o.add(e)},a=e=>{document.body.removeEventListener("dragover",e),o.delete(e)};t.a=e=>t=>{const{target:n}=t,{parentElement:s}=n;let a,i,c;t.dataTransfer.effectAllowed="move",s.style.setProperty("--dragged-element-height",n.offsetHeight+"px");for(const e of o)document.body.removeEventListener("dragover",e);s.classList.add(r);const d=()=>{var e;c=null,null===(e=s.querySelector("."+r))||void 0===e||e.classList.remove(r),a?(n.classList.remove("to-be-deleted"),a!==n&&a.classList.add(r)):n.classList.add("to-be-deleted")},l=e=>{e.stopPropagation(),e.preventDefault(),a=e.currentTarget,c||(c=requestAnimationFrame(d))},h=e=>{e.preventDefault(),a=null,c||(c=requestAnimationFrame(d))},u=e=>{e.stopPropagation(),e.preventDefault(),i=e.currentTarget},p=e=>{e.preventDefault(),i=null};Array.from(s.children,e=>{e.addEventListener("drop",u),e.addEventListener("dragover",l)}),document.body.addEventListener("dragover",h),document.body.addEventListener("drop",p),n.addEventListener("dragend",t=>{Array.from(document.getElementsByClassName(r),e=>e.classList.remove(r)),document.body.removeEventListener("dragover",h),document.body.removeEventListener("drop",p);for(const e of s.children)e.removeEventListener("drop",u),e.removeEventListener("dragover",l);for(const e of o)document.body.addEventListener("dragover",e);void 0!==i&&e(t,i)},{once:!0,passive:!0})}},30:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(0),o=n(20),s=n(35),a=n(19);function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var c=0;function d(e){return"__private_"+c+++"_"+e}class l extends r.a{constructor(...e){super(...e),this.form=Object(r.g)(),Object.defineProperty(this,h,{writable:!0,value:this.handleReOrder.bind(this)}),Object.defineProperty(this,u,{writable:!0,value:this.handleChange.bind(this)}),Object.defineProperty(this,p,{writable:!0,value:this.handleSubmit.bind(this)}),this.state={type:this.props.type,title:this.props.title,content:Array.isArray(this.props.content)?this.props.content.map(e=>({...e})):[]}}componentDidMount(){this.update()}componentDidUpdate(e){this.update(e)}update(e={}){const{current:t}=this.form;if(t&&e.focus!==this.props.focus){const e=this.props.focus,n=null==e?void 0:e.match(/^(.+)\[(\d+)\]$/),r=n?t.querySelectorAll(`input[name=${n[1]}]`).item(n[2]):t.querySelector(`input[name=${e}]`);r&&requestAnimationFrame(()=>{this.props.focusOffset&&r.setSelectionRange(...this.props.focusOffset),r.focus()})}}handleChange(e,t){const{name:n,value:r}=e.target,{content:o}=this.state;t===o.length?o.push({[n]:r}):o[t][n]=r,this.setState({content:o})}handleSubmit(){const e={...this.state};e.content=this.state.content.filter(({label:e,href:t})=>e||t).map(({label:e,href:t})=>({label:e||"[Link]",href:Object(a.default)(t)||"about:blank"})),requestAnimationFrame(()=>this.props.saveState(e))}handleReOrder(e,t){const n=this.state.content;let r=[];-1===t?r=r.concat(n.slice(0,e),n.slice(e+1)):e<t?r=r.concat(n.slice(0,e),n.slice(e+1,t),n.slice(e,1),n.slice(t)):e>t&&(r=r.concat(n.slice(0,t),n.slice(e,e+1),n.slice(t,e),n.slice(e+1))),e!==t&&this.setState({content:r})}render(){return Object(r.h)(s.a,{onClose:this.props.resetState},Object(r.h)("form",{method:"dialog",ref:this.form,onSubmit:i(this,p)[p]},Object(r.h)("div",null,Object(r.h)("label",{className:"full-size"},"Title:Â ",Object(r.h)("input",{name:"title",required:!0,value:this.state.title,onChange:e=>this.setState({title:e.target.value})})),Object(r.h)(o.default,{content:this.state.content,handleChange:i(this,u)[u],handleReOrder:i(this,h)[h]}),Object(r.h)("button",{type:"submit"},"Save"),Object(r.h)("button",{type:"reset",onClick:this.props.resetState},"Cancel"))))}}var h=d("handleReOrder"),u=d("handleChange"),p=d("handleSubmit")},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(1);const s="HTMLDialogElement"in window;const a=e=>e.stopPropagation();class i extends r.a{constructor(...e){super(...e),this.dialog=Object(r.g)()}componentDidMount(){this.update()}componentDidUpdate(){this.update()}update(){const{current:e}=this.dialog;var t;(t=e,s?Promise.resolve():Promise.all([n.e(37).then(n.bind(null,72)),n.e(26).then(n.t.bind(null,73,7))]).then(e=>e[0].default.registerDialog(t))).then(()=>e&&!e.open&&e.showModal())}render(){return Object(o.c)(Object(r.h)("dialog",{"data-do-not-export":!0,"data-ignore":!0,onClose:this.props.onClose,onClick:a,ref:this.dialog},this.props.children),document.body)}}}}]);