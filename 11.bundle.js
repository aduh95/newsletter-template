(window.webpackJsonp=window.webpackJsonp||[]).push([[11,15],{27:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var o=n(0),r=n(28);class a extends o.a{handleDrag({currentTarget:e},t){const n=Array.from(e.parentNode.children),o=n.indexOf(e),r=n.indexOf(t);this.props.handleReOrder(o,r)}render(){const e=this.props.content||[];return Object(o.h)("ol",{className:"ordered-list"},e.concat([{}]).map(({label:t,href:n},a)=>Object(o.h)("li",{draggable:a<e.length,onDragStart:Object(r.a)(this.handleDrag.bind(this)),key:a},Object(o.h)("input",{name:"label",value:t||"",placeholder:"Link label",onChange:e=>this.props.handleChange(e,a)}),Object(o.h)("input",{name:"href",value:n||"",placeholder:"Link URL",onChange:e=>this.props.handleChange(e,a),type:"url"}))))}}},28:function(e,t,n){"use strict";n.d(t,"b",function(){return a});const o="drop-candidate-for-reordering",r=[],a=e=>{document.body.addEventListener("dragover",e),r.push(e)};t.a=e=>t=>{const{target:n}=t,{parentElement:a}=n;let s,i,l;t.dataTransfer.effectAllowed="move",a.style.setProperty("--dragged-element-height",n.offsetHeight+"px");for(const e of r)document.body.removeEventListener("dragover",e);a.classList.add(o);const d=()=>{var e;l=null,null===(e=a.querySelector("."+o))||void 0===e||e.classList.remove(o),s?(n.classList.remove("to-be-deleted"),s!==n&&s.classList.add(o)):n.classList.add("to-be-deleted")},c=e=>{e.stopPropagation(),e.preventDefault(),s=e.currentTarget,l||(l=requestAnimationFrame(d))},h=e=>{e.preventDefault(),s=null,l||(l=requestAnimationFrame(d))},u=e=>{e.stopPropagation(),e.preventDefault(),i=e.currentTarget},p=e=>{e.preventDefault(),i=null};Array.from(a.children,e=>{e.addEventListener("drop",u),e.addEventListener("dragover",c)}),document.body.addEventListener("dragover",h),document.body.addEventListener("drop",p),n.addEventListener("dragend",t=>{Array.from(document.getElementsByClassName(o),e=>e.classList.remove(o)),document.body.removeEventListener("dragover",h),document.body.removeEventListener("drop",p);for(const e of a.children)e.removeEventListener("drop",u),e.removeEventListener("dragover",c);for(const e of r)document.body.addEventListener("dragover",e);void 0!==i&&e(t,i)},{once:!0,passive:!0})}},32:function(e,t,n){"use strict";const o="HTMLDialogElement"in window;t.a=e=>o?Promise.resolve():Promise.all([n.e(25).then(n.bind(null,38)),n.e(17).then(n.t.bind(null,39,7))]).then(t=>t[0].default.registerDialog(e))},33:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});var o=n(0),r=n(27),a=n(32);class s extends o.a{constructor(...e){var t,n,r;super(...e),t=this,n="dialog",r=Object(o.g)(),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentWillMount(){const{type:e,title:t,content:n}=this.props;this.setState({type:e,title:t,content:Array.isArray(n)?n.map(e=>({...e})):[]})}componentDidMount(){this.update()}componentDidUpdate(e){this.update(e)}update(e={}){const{current:t}=this.dialog;if(Object(a.a)(t).then(()=>t&&!t.open&&t.showModal()),t&&e.focus!==this.props.focus){const e=this.props.focus,n=null==e?void 0:e.match(/^(.+)\[(\d+)\]$/),o=n?t.querySelectorAll(`input[name=${n[1]}]`).item(n[2]):t.querySelector(`input[name=${e}]`);o&&requestAnimationFrame(()=>{this.props.focusOffset&&o.setSelectionRange(...this.props.focusOffset),o.focus()})}}handleChange(e,t){const{name:n,value:o}=e.target,{content:r}=this.state;t===r.length?r.push({[n]:o}):r[t][n]=o,this.setState({content:r})}handleSubmit(){const e={...this.state};e.content=this.state.content.filter(({label:e,href:t})=>e||t).map(({label:e,href:t})=>({label:e||"[Link]",href:t||"about:blank"})),requestAnimationFrame(()=>this.props.saveState(e))}handleReOrder(e,t){const n=this.state.content;let o=[];-1===t?o=o.concat(n.slice(0,e),n.slice(e+1)):e<t?o=o.concat(n.slice(0,e),n.slice(e+1,t),n.slice(e,1),n.slice(t)):e>t&&(o=o.concat(n.slice(0,t),n.slice(e,e+1),n.slice(t,e),n.slice(e+1))),e!==t&&this.setState({content:o})}onReset(e){e.stopPropagation(),this.props.resetState()}render(){return Object(o.h)("dialog",{"data-ignore":!0,onClose:this.onReset.bind(this),onClick:e=>e.stopPropagation(),ref:this.dialog},Object(o.h)("form",{method:"dialog",onSubmit:this.handleSubmit.bind(this)},Object(o.h)("div",null,Object(o.h)("label",null,"Title:Â ",Object(o.h)("input",{name:"title",value:this.state.title,onChange:e=>this.setState({title:e.target.value})})),Object(o.h)(r.default,{content:this.state.content,handleChange:this.handleChange.bind(this),handleReOrder:this.handleReOrder.bind(this)}),Object(o.h)("button",{type:"submit"},"Save"),Object(o.h)("button",{type:"reset",onClick:this.onReset.bind(this)},"Cancel"))))}}}}]);