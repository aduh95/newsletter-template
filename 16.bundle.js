(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{34:function(t,e,i){"use strict";const n="HTMLDialogElement"in window;e.a=t=>n?Promise.resolve():Promise.all([i.e(26).then(i.bind(null,40)),i.e(17).then(i.t.bind(null,41,7))]).then(e=>e[0].default.registerDialog(t))},38:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var n=i(0),a=i(34);function s(t,e){var i=e.get(t);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(t):i.value}const l=t=>t.stopPropagation();class o extends n.a{constructor(...t){var e,i,a;super(...t),e=this,i="dialog",a=Object(n.g)(),i in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,r.set(this,{writable:!0,value:this.handleSubmit.bind(this)}),h.set(this,{writable:!0,value:this.handleChange.bind(this)}),u.set(this,{writable:!0,value:this.handleIDChange.bind(this)})}componentWillMount(){const{type:t,title:e,id:i,illustrationDescription:n}=this.props;this.setState({type:t,title:e,id:i,illustration:this.props.illustration||null,illustrationDescription:n})}componentDidMount(){this.update()}componentDidUpdate(t){this.update(t)}update(t={}){const{current:e}=this.dialog;Object(a.a)(e).then(()=>e&&!e.open&&e.showModal())}handleChange(t,e){const{name:i,value:n}=t.target;this.setState({[i]:n})}handleIDChange(t){const e=t.target;this.props.id!==this.state.id&&document.getElementById(e.value)?e.setCustomValidity("ID already taken"):e.setCustomValidity(""),this.handleChange(t)}handleSubmit(t){const e={...this.state};this.props.saveState(e)}render(){return Object(n.h)("dialog",{"data-do-not-export":!0,"data-ignore":!0,onClose:this.props.resetState,onClick:l,ref:this.dialog},Object(n.h)("form",{method:"dialog",onSubmit:s(this,r)},Object(n.h)("div",null,Object(n.h)("label",null,"Title: ",Object(n.h)("input",{name:"title",required:!0,value:this.state.title,onChange:s(this,h)})),Object(n.h)("label",null,"ID: ",Object(n.h)("input",{name:"id",required:!0,value:this.state.id,onChange:s(this,u)})),Object(n.h)("label",null,"Image URL: ",Object(n.h)("input",{onChange:s(this,h),name:"illustration",type:"url",value:this.state.illustration}),Object(n.h)("label",null,"Image description: ",Object(n.h)("input",{onChange:s(this,h),name:"illustrationDescription",value:this.state.illustrationDescription,placeholder:"Mandatory description of the image",required:!0}))),Object(n.h)("button",{type:"submit"},"Save"),Object(n.h)("button",{type:"reset",onClick:this.props.resetState},"Cancel"))))}}var r=new WeakMap,h=new WeakMap,u=new WeakMap}}]);