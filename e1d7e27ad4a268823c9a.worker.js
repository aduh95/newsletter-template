!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);function n(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function a(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}class s{constructor(){o.set(this,{writable:!0,value:[]}),i.set(this,{writable:!0,value:0}),c.set(this,{writable:!0,value:0}),l.set(this,{writable:!0,value:0})}pushNewEntry(e){a(this,l,0),n(this,o)[a(this,i,+n(this,i)+1)]=e}rewindToPreviousState(){return a(this,l,1+ +n(this,l)),n(this,o)[a(this,i,+n(this,i)-1)]}forwardToNextState(){return a(this,l,+n(this,l)-1),n(this,o)[a(this,i,+n(this,i)+1)]}getNavigationPossibilities(){return{hasPreviousState:n(this,c)<n(this,i),hasNextState:n(this,l)>0}}}var o=new WeakMap,i=new WeakMap,c=new WeakMap,l=new WeakMap;let u=new s;const f=u.getNavigationPossibilities.bind(u);const p="content",h="lastSaveDate",d=([e])=>{switch(e){case 1:return function(e,t){for(var r,n,a,s=e.replace(/[^A-Za-z0-9\+\/]/g,""),o=s.length,i=t?Math.ceil((3*o+1>>>2)/t)*t:3*o+1>>>2,c=new Uint8Array(i),l=0,u=0,f=0;f<o;f++)if(n=3&f,l|=((a=s.charCodeAt(f))>64&&a<91?a-65:a>96&&a<123?a-71:a>47&&a<58?a+4:43===a?62:47===a?63:0)<<18-6*n,3===n||o-f==1){for(r=0;r<3&&u<i;r++,u++)c[u]=l>>>(16>>>r&24)&255;l=0}return c}(localStorage.getItem(p)).buffer;case 2:return JSON.parse(localStorage.getItem(p))}},g={1:"name",2:"hostname",3:"css",4:"components"},v={};function w(e){try{localStorage.setItem(p,JSON.stringify(Object.assign(v,e))),localStorage.setItem(h,Date.now())}catch{}}const m=([e,t])=>{switch(e){case 1:const{css:r,components:n,hostname:a,name:o}=t;localStorage.setItem("templateName",o),w({css:r,components:n,hostname:a});case 3:return void(u=new s);case 2:localStorage.clear()}};onmessage=e=>{const[t]=e.data;if(0&t){const e=(e=>(2===e?u.forwardToNextState():1===e&&u.rewindToPreviousState(),JSON.parse(getCurrentStateAsString())))(t);postMessage({...e,...f()}),w(e)}else if(0&t){const t=(([e,t])=>{const r={[g[e]]:t};return u.pushNewEntry(r),r})(e.data);postMessage(f()),w(t)}else if(0&t){const t=d(e.data);postMessage({data:t},[t])}else 0&t&&m(e.data)}}]);