(window.webpackJsonp=window.webpackJsonp||[]).push([[14,17],{27:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var i=n(33);const a=/\/search#documentUUID\/([a-f0-9\-]+)\/(.+)$/;function s(t){if(a.test(t)&&Object(i.b)().test(t)){const[e,n,s]=a.exec(t),l=new URL("/search",Object(i.a)());return l.searchParams.set("documentUUID",n),l.searchParams.set("title",s),l.toString()}try{t=new URL(t).toString()}catch{}return t}},33:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return o});var i=n(1);let a;const s=()=>{const{currentState:t}=i.a;a=t.hostname};i.a.subscribe(s),s();const l=()=>a,o=t=>new RegExp(`(https?:)?//${hostName}/?`,t)},35:function(t,e,n){"use strict";const i="HTMLDialogElement"in window;e.a=t=>i?Promise.resolve():Promise.all([n.e(27).then(n.bind(null,41)),n.e(18).then(n.t.bind(null,42,7))]).then(e=>e[0].default.registerDialog(t))},39:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return r});var i=n(0),a=n(35),s=n(27);function l(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}const o=t=>t.stopPropagation();class r extends i.a{constructor(...t){var e,n,a;super(...t),e=this,n="dialog",a=Object(i.g)(),n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,u.set(this,{writable:!0,value:this.handleSubmit.bind(this)}),h.set(this,{writable:!0,value:this.handleChange.bind(this)}),c.set(this,{writable:!0,value:this.handleIDChange.bind(this)})}componentWillMount(){const{type:t,title:e,id:n,illustrationDescription:i}=this.props;this.setState({type:t,title:e,id:n,illustration:this.props.illustration||null,illustrationDescription:i})}componentDidMount(){this.update()}componentDidUpdate(t){this.update(t)}update(t={}){const{current:e}=this.dialog;Object(a.a)(e).then(()=>e&&!e.open&&e.showModal())}handleChange(t,e){const{name:n,value:i}=t.target;this.setState({[n]:i})}handleIDChange(t){const e=t.target;e.value=e.value.replace(/\s/g,"-"),this.props.id!==this.state.id&&document.getElementById(e.value)?e.setCustomValidity("ID already taken"):e.setCustomValidity(""),this.handleChange(t)}handleSubmit(t){const e={...this.state};e.illustration=e.illustration?Object(s.default)(e.illustration):"about:blank",requestAnimationFrame(()=>this.props.saveState(e))}render(){return Object(i.h)("dialog",{"data-do-not-export":!0,"data-ignore":!0,onClose:this.props.resetState,onClick:o,ref:this.dialog},Object(i.h)("form",{method:"dialog",onSubmit:l(this,u)},Object(i.h)("div",null,Object(i.h)("label",null,"Title: ",Object(i.h)("input",{name:"title",required:!0,value:this.state.title,onChange:l(this,h)})),Object(i.h)("label",null,"ID: ",Object(i.h)("input",{name:"id",required:!0,value:this.state.id,onChange:l(this,c)})),Object(i.h)("label",null,"Image URL: ",Object(i.h)("input",{onChange:l(this,h),name:"illustration",type:"url",value:this.state.illustration}),Object(i.h)("label",null,"Image description: ",Object(i.h)("input",{onChange:l(this,h),name:"illustrationDescription",value:this.state.illustrationDescription,placeholder:"Mandatory description of the image",required:!0}))),Object(i.h)("button",{type:"submit"},"Save"),Object(i.h)("button",{type:"reset",onClick:this.props.resetState},"Cancel"))))}}var u=new WeakMap,h=new WeakMap,c=new WeakMap}}]);