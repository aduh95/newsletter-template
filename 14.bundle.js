(window.webpackJsonp=window.webpackJsonp||[]).push([[14,20],{14:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var l=n(0),a=n(1),r=n(17);const o=new Map;function i({active:e,componentName:t,props:i}){o.has(t)||o.set(t,Object(a.d)(()=>n(16)(`./${t}.js`)));const s=o.get(t);return Object(l.h)(a.b,{fallback:Object(l.h)(r.a,null)},e?Object(l.h)(s,i):null)}},16:function(e,t,n){var l={"./AddComponent.js":[24,34],"./AsideList.js":[30,15],"./Footer.js":[31,2,11],"./NewsletterArticle.js":[32,2,7],"./NewsletterSection.js":[33,19],"./OrderedList.js":[20,24],"./TemplateSettings.js":[34,17],"./lazy-edit-component.js":[14,20],"./normalizeURL.js":[19,22]};function a(e){if(!n.o(l,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=l[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(l)},a.id=16,e.exports=a},17:function(e,t,n){"use strict";var l=n(0),a=n(1);function r(e){e.target.close()}t.a=Object(a.e)((function(){return Object(a.c)(Object(l.h)("dialog",{"data-do-not-export":!0,open:!0,"data-ignore":!0,class:"loading",onClick:r},"Loading..."),document.body)}))},57:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var l=n(0),a=n(14);n(57);function r(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var o=0;function i(e){return"__private_"+o+++"_"+e}class s extends l.a{constructor(...e){super(...e),this.state={loading:!0},this.handleFile=e=>{const{target:t}=e;if(t.setCustomValidity(""),t.files.length){const[e]=t.files;n.e(3).then(n.bind(null,36)).then(t=>t.default.initiateWithFile(e)).catch(e=>{console.error(e),t.setCustomValidity("Invalid file"),t.form.reportValidity()})}},Object.defineProperty(this,c,{writable:!0,value:()=>{if(this.state.previousStateDate)return n.e(1).then(n.bind(null,38)).then(e=>e.default.recoverSavedState()).catch(e=>n.e(0).then(n.bind(null,18)).then(t=>t.default("Operation failed",console.error(e))));this.setState({createNewTemplate:!0})}}),Object.defineProperty(this,u,{writable:!0,value:()=>{this.setState({createNewTemplate:!1})}}),Object.defineProperty(this,h,{writable:!0,value:()=>n.e(1).then(n.bind(null,38)).then(e=>e.default.clearSavedState()).then(()=>this.setState({previousStateDate:null}),e=>n.e(0).then(n.bind(null,18)).then(t=>t.default("Operation failed",console.error(e))))})}componentDidMount(){n.e(4).then(n.bind(null,47)).then(e=>e.default).then(e=>e()).then(e=>this.setState({previousStateDate:e,loading:!1})).catch(()=>{this.setState({loading:!1})})}render(){const{previousStateDate:e,loading:t}=this.state;return Object(l.h)(l.b,null,Object(l.h)("header",null,Object(l.h)("h1",null,this.props.title)),Object(l.h)("main",{className:"splash"},Object(l.h)("form",{onSubmit:e=>e.preventDefault()},Object(l.h)("p",null,Object(l.h)("small",null,"To get started,"),Object(l.h)("br",null),Object(l.h)("strong",null,"Drag and Drop")," a file here",Object(l.h)("br",null),Object(l.h)("small",null,"or"),Object(l.h)("br",null),Object(l.h)("label",null,Object(l.h)("strong",null,"Select a file"),"Â ",Object(l.h)("input",{type:"file",accept:"application/json",onChange:this.handleFile}))),Object(l.h)("p",null,Object(l.h)("small",null,"or"),Object(l.h)("br",null),Object(l.h)("label",null,Object(l.h)("large",null,Object(l.h)("button",{onClick:r(this,c)[c],type:"button",autofocus:!0},e?"Continue where you left":"Start an empty template"))),Object(l.h)("br",null),Object(l.h)("small",null,Object(l.h)("em",null,t?"Checking if previous version exists...":e?`Saved on ${e.toLocaleString()}`:"No recoverable version found"))),e?Object(l.h)("details",null,Object(l.h)("summary",null,"Erase recovered version to start a new template"),Object(l.h)("p",null,"You can remove the recovered version and start a new template from scratch.",Object(l.h)("br",null),"Make sure you have backup all the useful data."),Object(l.h)("button",{onClick:r(this,h)[h],type:"button"},"Delete saved version")):null),Object(l.h)(a.default,{componentName:"TemplateSettings",active:this.state.createNewTemplate,props:{previousStateDate:e,recoverSavedState:r(this,c)[c],saveChange:this.props.startTemplateFromScratch,resetState:r(this,u)[u]}})))}}var c=i("startTemplate"),u=i("closeNewTemplateModal"),h=i("clearSavedTemplate")}}]);