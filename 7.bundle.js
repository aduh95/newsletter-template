(window.webpackJsonp=window.webpackJsonp||[]).push([[7,16,17],{14:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var r=n(38);const a=/\/search#documentUUID\/([a-f0-9\-]+)\/(.+)$/;function o(e){if(a.test(e)&&Object(r.b)().test(e)){const[t,n,o]=a.exec(e),s=new URL("/search",Object(r.a)());return s.searchParams.set("documentUUID",n),s.searchParams.set("title",o),s.toString()}try{e=new URL(e).toString()}catch{}return e}},16:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var r=n(0),a=n(35);class o extends r.a{handleDrag({currentTarget:e},t){const n=Array.from(e.parentNode.children),r=n.indexOf(e),a=n.indexOf(t);this.props.handleReOrder(r,a)}render(){const e=this.props.content||[];return Object(r.h)("ol",{className:"ordered-list"},e.concat([{}]).map(({label:t,href:n},o)=>Object(r.h)("li",{draggable:o<e.length,onDragStart:Object(a.a)(this.handleDrag.bind(this)),key:o},Object(r.h)("input",{name:"label",value:t||"",placeholder:"Link label",onChange:e=>this.props.handleChange(e,o)}),Object(r.h)("input",{name:"href",value:n||"",placeholder:"Link URL",onChange:e=>this.props.handleChange(e,o),type:"url"}))))}}},19:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var r=n(0),a=n(16),o=n(40),s=n(14);function i(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}class c extends r.a{constructor(...e){var t,n,a;super(...e),t=this,n="form",a=Object(r.g)(),n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,l.set(this,{writable:!0,value:this.handleReOrder.bind(this)}),d.set(this,{writable:!0,value:this.handleChange.bind(this)}),u.set(this,{writable:!0,value:this.handleSubmit.bind(this)})}componentWillMount(){const{type:e,title:t,content:n}=this.props;this.setState({type:e,title:t,content:Array.isArray(n)?n.map(e=>({...e})):[]})}componentDidMount(){this.update()}componentDidUpdate(e){this.update(e)}update(e={}){const{current:t}=this.form;if(t&&e.focus!==this.props.focus){const e=this.props.focus,n=null==e?void 0:e.match(/^(.+)\[(\d+)\]$/),r=n?t.querySelectorAll("input[name=".concat(n[1],"]")).item(n[2]):t.querySelector("input[name=".concat(e,"]"));r&&requestAnimationFrame(()=>{this.props.focusOffset&&r.setSelectionRange(...this.props.focusOffset),r.focus()})}}handleChange(e,t){const{name:n,value:r}=e.target,{content:a}=this.state;t===a.length?a.push({[n]:r}):a[t][n]=r,this.setState({content:a})}handleSubmit(){const e={...this.state};e.content=this.state.content.filter(({label:e,href:t})=>e||t).map(({label:e,href:t})=>({label:e||"[Link]",href:Object(s.default)(t)||"about:blank"})),requestAnimationFrame(()=>this.props.saveState(e))}handleReOrder(e,t){const n=this.state.content;let r=[];-1===t?r=r.concat(n.slice(0,e),n.slice(e+1)):e<t?r=r.concat(n.slice(0,e),n.slice(e+1,t),n.slice(e,1),n.slice(t)):e>t&&(r=r.concat(n.slice(0,t),n.slice(e,e+1),n.slice(t,e),n.slice(e+1))),e!==t&&this.setState({content:r})}render(){return Object(r.h)(o.a,{onClose:this.props.resetState},Object(r.h)("form",{method:"dialog",ref:this.form,onSubmit:i(this,u)},Object(r.h)("div",null,Object(r.h)("label",null,"Title:Â ",Object(r.h)("input",{name:"title",required:!0,value:this.state.title,onChange:e=>this.setState({title:e.target.value})})),Object(r.h)(a.default,{content:this.state.content,handleChange:i(this,d),handleReOrder:i(this,l)}),Object(r.h)("button",{type:"submit"},"Save"),Object(r.h)("button",{type:"reset",onClick:this.props.resetState},"Cancel"))))}}var l=new WeakMap,d=new WeakMap,u=new WeakMap},35:function(e,t,n){"use strict";n.d(t,"b",function(){return o});const r="drop-candidate-for-reordering",a=[],o=e=>{document.body.addEventListener("dragover",e),a.push(e)};t.a=e=>t=>{const{target:n}=t,{parentElement:o}=n;let s,i,c;t.dataTransfer.effectAllowed="move",o.style.setProperty("--dragged-element-height",n.offsetHeight+"px");for(const e of a)document.body.removeEventListener("dragover",e);o.classList.add(r);const l=()=>{var e;c=null,null===(e=o.querySelector("."+r))||void 0===e||e.classList.remove(r),s?(n.classList.remove("to-be-deleted"),s!==n&&s.classList.add(r)):n.classList.add("to-be-deleted")},d=e=>{e.stopPropagation(),e.preventDefault(),s=e.currentTarget,c||(c=requestAnimationFrame(l))},u=e=>{e.preventDefault(),s=null,c||(c=requestAnimationFrame(l))},h=e=>{e.stopPropagation(),e.preventDefault(),i=e.currentTarget},p=e=>{e.preventDefault(),i=null};Array.from(o.children,e=>{e.addEventListener("drop",h),e.addEventListener("dragover",d)}),document.body.addEventListener("dragover",u),document.body.addEventListener("drop",p),n.addEventListener("dragend",t=>{Array.from(document.getElementsByClassName(r),e=>e.classList.remove(r)),document.body.removeEventListener("dragover",u),document.body.removeEventListener("drop",p);for(const e of o.children)e.removeEventListener("drop",h),e.removeEventListener("dragover",d);for(const e of a)document.body.addEventListener("dragover",e);void 0!==i&&e(t,i)},{once:!0,passive:!0})}},38:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return i});var r=n(1);let a;const o=()=>{const{currentState:e}=r.a;a=null==e?void 0:e.hostname};r.a.subscribe(o),o();const s=()=>a,i=e=>new RegExp("(https?:)?//".concat(hostName,"/?"),e)},40:function(e,t,n){"use strict";var r=n(0),a=n(2);const o="HTMLDialogElement"in window;var s=e=>o?Promise.resolve():Promise.all([n.e(28).then(n.bind(null,57)),n.e(18).then(n.t.bind(null,58,7))]).then(t=>t[0].default.registerDialog(e));n.d(t,"a",function(){return c});const i=e=>e.stopPropagation();class c extends r.a{constructor(...e){var t,n,a;super(...e),t=this,n="dialog",a=Object(r.g)(),n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}componentDidMount(){this.update()}componentDidUpdate(){this.update()}update(){const{current:e}=this.dialog;s(e).then(()=>e&&!e.open&&e.showModal())}render(){return Object(a.b)(Object(r.h)("dialog",{"data-do-not-export":!0,"data-ignore":!0,onClose:this.props.onClose,onClick:i,ref:this.dialog},this.props.children),document.body)}}}}]);