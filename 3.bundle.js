(window.webpackJsonp=window.webpackJsonp||[]).push([[3,7,9,19],[,,,,,,,,,,,function(t,e,s){"use strict";s.r(e),s.d(e,"default",function(){return p});var r=s(0),n=s(25),i=s(24);const o=t=>t?Array.isArray(t)?t:[t]:[],a=t=>t;class c extends r.a{render(){return Object(r.h)("iframe",{src:this.props.src,frameborder:"0",width:"300",height:"175",loading:"lazy",allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:!0,loading:"lazy","data-key":"src"})}}class l extends r.a{render(){return Object(r.h)("img",{alt:this.props.alt,src:this.props.src,loading:"lazy","data-key":"src"})}}class d extends r.a{render(){return this.props.src?this.props.isVideo?Object(r.h)(c,this.props):Object(r.h)(l,this.props):null}}class p extends r.a{constructor(...t){var e,s,r;super(...t),e=this,s="state",r={writeMode:!1,data:JSON.stringify(this.props)},s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}update(t){this.setState({writeMode:!1,data:JSON.stringify(t)})}clickHandler(t){if(!t.ctrlKey){t.preventDefault();const[e]=t.composedPath();e.contentEditable="true",setTimeout(()=>{e.contentEditable="false"},300)}}dblClickHandler(t){var e,s;const r=[],n=t.composedPath();let i=0;for(;n[i]&&void 0===(null===(o=n[i].dataset)||void 0===o?void 0:o.key);){var o;i++}if(t.preventDefault(),window.getSelection){let t=0;const e=getSelection(),{anchorOffset:s,focusOffset:o}=e;if(i>0){let s=n[0];do{var a;const{previousSibling:e}=s;t+=(null==e?void 0:null===(a=e.textContent)||void 0===a?void 0:a.length)||0,s=e||s.parentNode}while(s&&s!==n[i]);this.setState({focusText:e.toString()})}r.push(t+s,t+o)}this.setState({writeMode:!0,focus:null===(e=n[i])||void 0===e?void 0:null===(s=e.dataset)||void 0===s?void 0:s.key,focusOffset:r})}render(){return Object(r.h)("article",{className:this.props.isMain?"main":void 0,"data-type":"NewsletterArticle","data-json":this.state.data,onClick:this.clickHandler.bind(this),onDblclick:this.dblClickHandler.bind(this)},Object(r.h)("h4",{"data-key":"title"},this.props.title),Object(r.h)(d,{isVideo:this.props.isVideo,src:this.props.illustration,alt:this.props.illustrationDescription}),Object(r.h)(n.a,{content:this.props.description,attributes:{"data-key":"description"}}),Object(r.h)("p",null,o(this.props.links).map((t,e)=>Object(r.h)(r.b,null,Object(r.h)("a",{"data-key":`label[${e}]`,href:a(t.href),target:"_blank",rel:"noopener"},t.label),".",Object(r.h)("br",null)))),Object(r.h)(i.default,{componentName:"NewsletterArticle",active:this.state.writeMode,props:{...this.props,focus:this.state.focus,focusOffset:this.state.focusOffset,focusText:this.state.focusText,saveState:this.update.bind(this),resetState:()=>this.setState({writeMode:!1})}}))}}},function(t,e,s){"use strict";s.r(e),s.d(e,"default",function(){return o});var r=s(0),n=s(30),i=s(31);class o extends r.a{render(){const{sections:t}=this.props;return Object(r.h)("nav",{class:"newsletter","data-ignore":!0},t.map(t=>Object(r.h)("a",{href:"#"+t.id,onClick:this.props.editSection(t)},Object(r.h)("img",{src:t.illustration,alt:t.illustrationDescription}))),Object(r.h)("a",{href:"#",style:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:this.props.addSection},Object(r.h)(n.a,{icon:i.g})))}}},function(t,e,s){"use strict";s.r(e),s.d(e,"default",function(){return i});var r=s(0),n=s(11);class i extends r.a{render(){const t=this.props.content||[];return Object(r.h)("section",{className:"newsletter","data-type":"NewsletterSection",style:{"--nb-of-articles":t.length},id:this.props.id},Object(r.h)("output",{hidden:!0,"data-key":"id"},this.props.id),Object(r.h)("output",{hidden:!0,"data-key":"illustration"},this.props.illustration),Object(r.h)("output",{hidden:!0,"data-key":"illustrationDescription"},this.props.illustrationDescription),Object(r.h)("h2",{className:"newsletter","data-key":"title"},this.props.title),t.map(t=>Object(r.h)(n.default,t)))}}},,,function(t,e,s){"use strict";s.r(e),s.d(e,"default",function(){return o});var r=s(0),n=s(12),i=s(13);class o extends r.a{addSection(t){t.preventDefault(),s.e(1).then(s.bind(null,42)).then(t=>t.default("Not implemented yet"))}editSection(t){return e=>{e.preventDefault(),s.e(1).then(s.bind(null,42)).then(t=>t.default("Not implemented yet")),console.log("edit",t)}}render(){const t=this.props.content||[];return Object(r.h)("section",{class:"newsletter","data-type":"FeatureStories"},Object(r.h)("h2",{class:"newsletter","data-key":"title"},this.props.title),Object(r.h)(n.default,{sections:t,addSection:this.addSection.bind(this),editSection:this.editSection.bind(this)}),t.map(t=>Object(r.h)(i.default,t)))}}},,,,,,,,function(t,e,s){"use strict";s.r(e),s.d(e,"default",function(){return i});var r=s(0),n=s(2);class i extends r.a{render(){const t=this.props.active?Object(n.b)(()=>s(29)(`./${this.props.componentName}.js`)):r.b;return Object(r.h)(n.a,{fallback:Object(r.h)("dialog",{open:!0,"data-ignore":!0},"Loading...")},Object(r.h)(t,this.props.props))}}},function(t,e,s){"use strict";s.d(e,"a",function(){return a});var r=s(0),n=s(26);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t}).apply(this,arguments)}const o=new(s.n(n).a);class a extends r.a{constructor(...t){var e,s,r;super(...t),r={loading:!0},(s="state")in(e=this)?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}static translate(t){let e;const s=new Promise(t=>e=t),r=function(t,e,s){if(t!==e)throw new TypeError("Private static access of wrong provenance");return s.value}(this,a,c).then(()=>new Promise((e,s)=>{o.onmessage=({data:t})=>{e(t)},o.onmessageerror=s,o.onerror=s,o.postMessage(t)})).finally(e);return function(t,e,s,r){if(t!==e)throw new TypeError("Private static access of wrong provenance");if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=r}(this,a,c,s),r}componentDidMount(){this.translate()}componentDidUpdate(t){t.content!==this.props.content&&this.translate()}translate(){this.constructor.translate(this.props.content).then(t=>{this.setState({loading:!1,html:t})}).catch(t=>{console.error(t),this.setState({loading:!1,html:"<div data-ignore class='error'>Error when rendering markdown content</div>"})})}render(){return this.state.loading?Object(r.h)("p",{"data-ignore":!0},"Loading..."):Object(r.h)("output",i({"data-contents":!0,dangerouslySetInnerHTML:{__html:this.state.html}},this.props.attributes))}}var c={writable:!0,value:Promise.resolve()}},function(t,e,s){t.exports=function(){return new Worker(s.p+"25e8b5bb6f306b1d55e5.worker.js")}},,,function(t,e,s){var r={"./AsideList.js":[33,11],"./Footer.js":[34,0,4],"./NewsletterArticle.js":[35,0,5],"./NewsletterSection.js":[36,16],"./OrderedList.js":[27,15],"./lazy-edit-compomponent.js":[24]};function n(t){if(!s.o(r,t))return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=r[t],n=e[0];return Promise.all(e.slice(1).map(s.e)).then(function(){return s(n)})}n.keys=function(){return Object.keys(r)},n.id=29,t.exports=n}]]);