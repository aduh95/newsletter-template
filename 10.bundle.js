(window.webpackJsonp=window.webpackJsonp||[]).push([[10,21],{37:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var i=n(8);const a=/\/search#documentUUID\/([a-f0-9\-]+)\/(.+)$/;function s(t){if(a.test(t)&&i.default.getHostNameRegExp().test(t)){const[e,n,s]=a.exec(t),r=new URL("/search",i.default.get());return r.searchParams.set("documentUUID",n),r.searchParams.set("title",s),r.toString()}try{t=new URL(t).toString()}catch{}return t}},45:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return h});var i=n(0),a=n(59),s=n(37);function r(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var o=0;function l(t){return"__private_"+o+++"_"+t}class h extends i.a{constructor(...t){super(...t),Object.defineProperty(this,u,{writable:!0,value:this.handleSubmit.bind(this)}),Object.defineProperty(this,c,{writable:!0,value:this.handleChange.bind(this)}),Object.defineProperty(this,d,{writable:!0,value:this.handleIDChange.bind(this)}),this.state={type:this.props.type,title:this.props.title,id:this.props.id,illustration:this.props.illustration||null,illustrationDescription:this.props.illustrationDescription}}handleChange(t,e){const{name:n,value:i}=t.target;this.setState({[n]:i})}handleIDChange(t){const e=t.target;e.value=e.value.replace(/\s/g,"-"),this.props.id!==this.state.id&&document.getElementById(e.value)?e.setCustomValidity("ID already taken"):e.setCustomValidity(""),this.handleChange(t)}handleSubmit(t){const e={...this.state};e.illustration=e.illustration?Object(s.default)(e.illustration):"about:blank",requestAnimationFrame(()=>this.props.saveState(e))}render(){return Object(i.h)(a.a,{onClose:this.props.resetState},Object(i.h)("form",{method:"dialog",onSubmit:r(this,u)[u]},Object(i.h)("div",null,Object(i.h)("label",null,"Title: ",Object(i.h)("input",{name:"title",required:!0,value:this.state.title,onChange:r(this,c)[c]})),Object(i.h)("label",null,"ID: ",Object(i.h)("input",{name:"id",required:!0,value:this.state.id,onChange:r(this,d)[d]})),Object(i.h)("label",null,"Image URL: ",Object(i.h)("input",{onChange:r(this,c)[c],name:"illustration",type:"url",value:this.state.illustration}),Object(i.h)("label",null,"Image description: ",Object(i.h)("input",{onChange:r(this,c)[c],name:"illustrationDescription",value:this.state.illustrationDescription,placeholder:"Mandatory description of the image",required:!0}))),Object(i.h)("button",{type:"submit"},"Save"),Object(i.h)("button",{type:"reset",onClick:this.props.resetState},"Cancel"))))}}var u=l("handleSubmit"),c=l("handleChange"),d=l("handleIDChange")},59:function(t,e,n){"use strict";var i=n(0),a=n(2);const s="HTMLDialogElement"in window;var r=t=>s?Promise.resolve():Promise.all([n.e(24).then(n.bind(null,64)),n.e(13).then(n.t.bind(null,65,7))]).then(e=>e[0].default.registerDialog(t));n.d(e,"a",function(){return l});const o=t=>t.stopPropagation();class l extends i.a{constructor(...t){super(...t),this.dialog=Object(i.g)()}componentDidMount(){this.update()}componentDidUpdate(){this.update()}update(){const{current:t}=this.dialog;r(t).then(()=>t&&!t.open&&t.showModal())}render(){return Object(a.c)(Object(i.h)("dialog",{"data-do-not-export":!0,"data-ignore":!0,onClose:this.props.onClose,onClick:o,ref:this.dialog},this.props.children),document.body)}}}}]);