(window.webpackJsonp=window.webpackJsonp||[]).push([[9,15],{25:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var r=n(0),o=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,u(e).apply(this,arguments))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(i=[{key:"handleDrag",value:function(t,e){var n=t.currentTarget,r=Array.from(n.parentNode.children),o=r.indexOf(n),i=r.indexOf(e);this.props.handleReOrder(o,i)}},{key:"render",value:function(){var t=this,e=this.props.content||[];return Object(r.h)("ol",{className:"ordered-list"},e.concat([{}]).map(function(n,i){var a=n.label,c=n.href;return Object(r.h)("li",{draggable:i<e.length,onDragStart:Object(o.a)(t.handleDrag.bind(t)),key:i},Object(r.h)("input",{name:"label",value:a||"",placeholder:"Link label",onChange:function(e){return t.props.handleChange(e,i)}}),Object(r.h)("input",{name:"href",value:c||"",placeholder:"Link URL",onChange:function(e){return t.props.handleChange(e,i)},type:"url"}))}))}}])&&a(n.prototype,i),s&&a(n,s),e}()},27:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return b});var r=n(0),o=n(25),i=n(30);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){h(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){function e(){var t,n,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];return o=this,n=!(i=(t=s(e)).call.apply(t,[this].concat(u)))||"object"!==a(i)&&"function"!=typeof i?f(o):i,h(f(n),"dialog",Object(r.g)()),n}var n,c,b;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,r["a"]),n=e,(c=[{key:"componentWillMount",value:function(){var t=this.props,e=t.type,n=t.title,r=t.content;this.setState({type:e,title:n,content:Array.isArray(r)?r.map(function(t){return u({},t)}):[]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(t){this.update(t)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.dialog.current;if(Object(i.a)(e).then(function(){return e&&!e.open&&e.showModal()}),e&&t.focus!==this.props.focus){var n=this.props.focus,r=null==n?void 0:n.match(/^(.+)\[(\d+)\]$/),o=r?e.querySelectorAll("input[name=".concat(r[1],"]")).item(r[2]):e.querySelector("input[name=".concat(n,"]"));null==o||o.focus()}}},{key:"handleChange",value:function(t,e){var n=t.target,r=n.name,o=n.value,i=this.state.content;e===i.length?i.push(h({},r,o)):i[e][r]=o,this.setState({content:i})}},{key:"handleSubmit",value:function(){var t=this,e=u({},this.state);e.content=this.state.content.filter(function(t){var e=t.label,n=t.href;return e||n}).map(function(t){return{label:t.label||"[Link]",href:t.href||"about:blank"}}),requestAnimationFrame(function(){return t.props.saveState(e)})}},{key:"handleReOrder",value:function(t,e){var n=this.state.content,r=[];-1===e?r=r.concat(n.slice(0,t),n.slice(t+1)):t<e?r=r.concat(n.slice(0,t),n.slice(t+1,e),n.slice(t,1),n.slice(e)):t>e&&(r=r.concat(n.slice(0,e),n.slice(t,t+1),n.slice(e,t),n.slice(t+1))),t!==e&&this.setState({content:r})}},{key:"onReset",value:function(t){t.stopPropagation(),this.props.resetState()}},{key:"render",value:function(){var t=this;return Object(r.h)("dialog",{"data-ignore":!0,onClose:this.onReset.bind(this),onClick:function(t){return t.stopPropagation()},ref:this.dialog},Object(r.h)("form",{method:"dialog",onSubmit:this.handleSubmit.bind(this)},Object(r.h)("div",null,Object(r.h)("label",null,"Title:Â ",Object(r.h)("input",{name:"title",value:this.state.title,onChange:function(e){return t.setState({title:e.target.value})}})),Object(r.h)(o.default,{content:this.state.content,handleChange:this.handleChange.bind(this),handleReOrder:this.handleReOrder.bind(this)}),Object(r.h)("button",{type:"submit"},"Save"),Object(r.h)("button",{type:"reset",onClick:this.onReset.bind(this)},"Cancel"))))}}])&&l(n.prototype,c),b&&l(n,b),e}()},30:function(t,e,n){"use strict";var r="HTMLDialogElement"in window;e.a=function(t){return r?Promise.resolve():n.e(18).then(n.bind(null,33)).then(function(e){return e.default.registerDialog(t)})}}}]);