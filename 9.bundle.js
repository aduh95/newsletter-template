(window.webpackJsonp=window.webpackJsonp||[]).push([[9,15],{34:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});var a=n(0),i=n(4);class s extends a.a{handleDrag({currentTarget:e},t){const n=Array.from(e.parentNode.children),a=n.indexOf(e),i=n.indexOf(t);this.props.handleReOrder(a,i)}render(){const e=this.props.content||[];return Object(a.h)("ol",{className:"ordered-list"},e.concat([{}]).map(({label:t,href:n},s)=>Object(a.h)("li",{draggable:s<e.length,onDragStart:Object(i.a)(this.handleDrag.bind(this)),key:s},Object(a.h)("input",{name:"label",value:t||"",placeholder:"Link label",onChange:e=>this.props.handleChange(e,s)}),Object(a.h)("input",{name:"href",value:n||"",placeholder:"Link URL",onChange:e=>this.props.handleChange(e,s),type:"url"}))))}}},36:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var a=n(0),i=n(34),s=n(39);class o extends a.a{constructor(...e){var t,n,i;super(...e),t=this,n="dialog",i=Object(a.g)(),n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentWillMount(){const{type:e,title:t,content:n}=this.props;this.setState({type:e,title:t,content:Array.isArray(n)?n.map(e=>({...e})):[]})}componentDidMount(){this.update()}componentDidUpdate(e){this.update(e)}update(e={}){const{current:t}=this.dialog;if(Object(s.a)(t).then(()=>t&&!t.open&&t.showModal()),t&&e.focus!==this.props.focus){const e=this.props.focus,n=null==e?void 0:e.match(/^(.+)\[(\d+)\]$/),a=n?t.querySelectorAll(`input[name=${n[1]}]`).item(n[2]):t.querySelector(`input[name=${e}]`);null==a||a.focus()}}handleChange(e,t){const{name:n,value:a}=e.target,{content:i}=this.state;t===i.length?i.push({[n]:a}):i[t][n]=a,this.setState({content:i})}handleSubmit(){const e={...this.state};e.content=this.state.content.filter(({label:e,href:t})=>e||t).map(({label:e,href:t})=>({label:e||"[Link]",href:t||"about:blank"})),requestAnimationFrame(()=>this.props.saveState(e))}handleReOrder(e,t){const n=this.state.content;let a=[];-1===t?a=a.concat(n.slice(0,e),n.slice(e+1)):e<t?a=a.concat(n.slice(0,e),n.slice(e+1,t),n.slice(e,1),n.slice(t)):e>t&&(a=a.concat(n.slice(0,t),n.slice(e,e+1),n.slice(t,e),n.slice(e+1))),e!==t&&this.setState({content:a})}onReset(e){e.stopPropagation(),this.props.resetState()}render(){return Object(a.h)("dialog",{"data-ignore":!0,onClose:this.onReset.bind(this),onClick:e=>e.stopPropagation(),ref:this.dialog},Object(a.h)("form",{method:"dialog",onSubmit:this.handleSubmit.bind(this)},Object(a.h)("div",null,Object(a.h)("label",null,"Title:Â ",Object(a.h)("input",{name:"title",value:this.state.title,onChange:e=>this.setState({title:e.target.value})})),Object(a.h)(i.default,{content:this.state.content,handleChange:this.handleChange.bind(this),handleReOrder:this.handleReOrder.bind(this)}),Object(a.h)("button",{type:"submit"},"Save"),Object(a.h)("button",{type:"reset",onClick:this.onReset.bind(this)},"Cancel"))))}}},39:function(e,t,n){"use strict";const a="HTMLDialogElement"in window;t.a=e=>a?Promise.resolve():n.e(18).then(n.bind(null,42)).then(t=>t.default.registerDialog(e))}}]);