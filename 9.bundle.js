(window.webpackJsonp=window.webpackJsonp||[]).push([[9,20,21],{36:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});var a=n(8);const s=/\/search#documentUUID\/([a-f0-9\-]+)\/(.+)$/;function r(e){if(s.test(e)&&a.default.getHostNameRegExp().test(e)){const[t,n,r]=s.exec(e),i=new URL("/search",a.default.get());return i.searchParams.set("documentUUID",n),i.searchParams.set("title",r),i.toString()}try{e=new URL(e).toString()}catch{}return e}},38:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});var a=n(0),s=n(12);class r extends a.a{handleDrag({currentTarget:e},t){const n=Array.from(e.parentNode.children),a=n.indexOf(e),s=n.indexOf(t);this.props.handleReOrder(a,s)}render(){const e=this.props.content||[];return Object(a.h)("ol",{className:"ordered-list"},e.concat([{}]).map(({label:t,href:n},r)=>Object(a.h)("li",{draggable:r<e.length,onDragStart:Object(s.a)(this.handleDrag.bind(this)),key:r},Object(a.h)("input",{name:"label",value:t||"",placeholder:"Link label",onChange:e=>this.props.handleChange(e,r)}),Object(a.h)("input",{name:"href",value:n||"",placeholder:"Link URL",onChange:e=>this.props.handleChange(e,r),type:"url"}))))}}},41:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var a=n(0),s=n(38),r=n(59),i=n(36);function o(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}class c extends a.a{constructor(...e){var t,n,s;super(...e),t=this,n="form",s=Object(a.g)(),n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,l.set(this,{writable:!0,value:this.handleReOrder.bind(this)}),h.set(this,{writable:!0,value:this.handleChange.bind(this)}),u.set(this,{writable:!0,value:this.handleSubmit.bind(this)})}componentWillMount(){const{type:e,title:t,content:n}=this.props;this.setState({type:e,title:t,content:Array.isArray(n)?n.map(e=>({...e})):[]})}componentDidMount(){this.update()}componentDidUpdate(e){this.update(e)}update(e={}){const{current:t}=this.form;if(t&&e.focus!==this.props.focus){const e=this.props.focus,n=null==e?void 0:e.match(/^(.+)\[(\d+)\]$/),a=n?t.querySelectorAll("input[name=".concat(n[1],"]")).item(n[2]):t.querySelector("input[name=".concat(e,"]"));a&&requestAnimationFrame(()=>{this.props.focusOffset&&a.setSelectionRange(...this.props.focusOffset),a.focus()})}}handleChange(e,t){const{name:n,value:a}=e.target,{content:s}=this.state;t===s.length?s.push({[n]:a}):s[t][n]=a,this.setState({content:s})}handleSubmit(){const e={...this.state};e.content=this.state.content.filter(({label:e,href:t})=>e||t).map(({label:e,href:t})=>({label:e||"[Link]",href:Object(i.default)(t)||"about:blank"})),requestAnimationFrame(()=>this.props.saveState(e))}handleReOrder(e,t){const n=this.state.content;let a=[];-1===t?a=a.concat(n.slice(0,e),n.slice(e+1)):e<t?a=a.concat(n.slice(0,e),n.slice(e+1,t),n.slice(e,1),n.slice(t)):e>t&&(a=a.concat(n.slice(0,t),n.slice(e,e+1),n.slice(t,e),n.slice(e+1))),e!==t&&this.setState({content:a})}render(){return Object(a.h)(r.a,{onClose:this.props.resetState},Object(a.h)("form",{method:"dialog",ref:this.form,onSubmit:o(this,u)},Object(a.h)("div",null,Object(a.h)("label",null,"Title:Â ",Object(a.h)("input",{name:"title",required:!0,value:this.state.title,onChange:e=>this.setState({title:e.target.value})})),Object(a.h)(s.default,{content:this.state.content,handleChange:o(this,h),handleReOrder:o(this,l)}),Object(a.h)("button",{type:"submit"},"Save"),Object(a.h)("button",{type:"reset",onClick:this.props.resetState},"Cancel"))))}}var l=new WeakMap,h=new WeakMap,u=new WeakMap},59:function(e,t,n){"use strict";var a=n(0),s=n(2);const r="HTMLDialogElement"in window;var i=e=>r?Promise.resolve():Promise.all([n.e(25).then(n.bind(null,64)),n.e(13).then(n.t.bind(null,65,7))]).then(t=>t[0].default.registerDialog(e));n.d(t,"a",function(){return c});const o=e=>e.stopPropagation();class c extends a.a{constructor(...e){var t,n,s;super(...e),t=this,n="dialog",s=Object(a.g)(),n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s}componentDidMount(){this.update()}componentDidUpdate(){this.update()}update(){const{current:e}=this.dialog;i(e).then(()=>e&&!e.open&&e.showModal())}render(){return Object(s.c)(Object(a.h)("dialog",{"data-do-not-export":!0,"data-ignore":!0,onClose:this.props.onClose,onClick:o,ref:this.dialog},this.props.children),document.body)}}}}]);