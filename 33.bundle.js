(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{23:function(t,e,n){"use strict";n.r(e),n.d(e,"touchHandler",(function(){return i})),n.d(e,"keyboardHandler",(function(){return s})),n.d(e,"clickHandler",(function(){return l})),n.d(e,"dblClickHandler",(function(){return c}));const o=new WeakMap;function i(t){const[e]=t.composedPath(),n=o.get(e)||0,i=t.timeStamp||Date.now();o.set(e,i),i-n<300&&c.call(this,t)}function s(t){switch(t.key){case"Enter":c.call(this,t);break;case"Delete":this.base.remove(),n.e(0).then(n.bind(null,18)).then(t=>t.default).then(t=>t("Article has been removed, use undo to restore it."))}}function l(t){if(!this.state.writeMode&&!t.ctrlKey&&1===t.which){t.preventDefault();const[e]=t.composedPath();"A"===e.nodeName&&(e.contentEditable="true",setTimeout(()=>{try{this.base.focus()}catch{e.blur()}e.contentEditable="false",this.state.writeMode||n.e(0).then(n.bind(null,18)).then(t=>t.default).then(t=>t("Use Ctrl+Click to open the link"))},300))}}function c(t){if(!this.state.writeMode){var e,n;const s=[],l=t.composedPath();let c=0;for(;l[c]&&void 0===(null===(o=l[c].dataset)||void 0===o?void 0:o.key);){var o;c++}if(t.preventDefault(),window.getSelection){let t=0;const e=getSelection(),{anchorOffset:n,focusOffset:o}=e;if(c>0){let n=l[0];do{var i;const{previousSibling:e}=n;t+=(null==e||null===(i=e.textContent)||void 0===i?void 0:i.length)||0,n=e||n.parentNode}while(n&&n!==l[c]);this.setState({focusText:e.toString()})}s.push(t+n,t+o)}this.setState({writeMode:!0,focus:null===(e=l[c])||void 0===e||null===(n=e.dataset)||void 0===n?void 0:n.key,focusOffset:s})}}}}]);